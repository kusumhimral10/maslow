"use strict";(self.webpackChunkflowise_ui=self.webpackChunkflowise_ui||[]).push([[5290],{76858:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(23917);const s={getAllChatflows:()=>n.Z.get("/chatflows"),getSpecificChatflow:e=>n.Z.get("/chatflows/".concat(e)),getSpecificChatflowFromPublicEndpoint:e=>n.Z.get("/public-chatflows/".concat(e)),createNewChatflow:e=>n.Z.post("/chatflows",e),updateChatflow:(e,t)=>n.Z.put("/chatflows/".concat(e),t),deleteChatflow:e=>n.Z.delete("/chatflows/".concat(e)),getIsChatflowStreaming:e=>n.Z.get("/chatflows-streaming/".concat(e))}},54231:(e,t,a)=>{a.d(t,{Z:()=>p});var n=a(15749),s=a(30969),i=a(48886),o=a(38357),l=a(87130),r=a(47915),c=a(91862),d=a(52312),h=a(38760),x=a(37574);const p=e=>{let{show:t,dialogProps:a,onConfirm:p}=e;const u=document.getElementById("portal"),[m,g]=(0,s.useState)(""),[j,f]=(0,s.useState)(""),w=t?(0,x.jsxs)(i.Z,{onKeyUp:e=>{"Enter"===e.key&&p(m,j)},open:t,fullWidth:!0,maxWidth:"xs","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,x.jsx)(o.Z,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:a.title}),(0,x.jsxs)(l.Z,{children:[(0,x.jsx)(r.Z,{children:"Username"}),(0,x.jsx)(h.I,{inputParam:{label:"Username",name:"username",type:"string",placeholder:"john doe"},onChange:e=>g(e),value:m,showDialog:!1}),(0,x.jsx)("div",{style:{marginTop:20}}),(0,x.jsx)(r.Z,{children:"Password"}),(0,x.jsx)(h.I,{inputParam:{label:"Password",name:"password",type:"password"},onChange:e=>f(e),value:j})]}),(0,x.jsx)(c.Z,{children:(0,x.jsx)(d.S,{variant:"contained",onClick:()=>p(m,j),children:a.confirmButtonName})})]}):null;return(0,n.createPortal)(w,u)}},14464:(e,t,a)=>{a.d(t,{Z:()=>p});var n=a(15749),s=a(30969),i=a(48886),o=a(38357),l=a(87130),r=a(33656),c=a(91862),d=a(46138),h=a(52312),x=a(37574);const p=e=>{let{show:t,dialogProps:a,onCancel:p,onConfirm:u}=e;const m=document.getElementById("portal"),[g,j]=(0,s.useState)(""),[f,w]=(0,s.useState)(!1);(0,s.useEffect)((()=>{w(!!g)}),[g]);const b=t?(0,x.jsxs)(i.Z,{open:t,fullWidth:!0,maxWidth:"xs",onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,x.jsx)(o.Z,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:a.title}),(0,x.jsx)(l.Z,{children:(0,x.jsx)(r.Z,{sx:{mt:1},id:"chatflow-name",type:"text",fullWidth:!0,placeholder:"My New Chatflow",value:g,onChange:e=>j(e.target.value)})}),(0,x.jsxs)(c.Z,{children:[(0,x.jsx)(d.Z,{onClick:p,children:a.cancelButtonName}),(0,x.jsx)(h.S,{disabled:!f,variant:"contained",onClick:()=>u(g),children:a.confirmButtonName})]})]}):null;return(0,n.createPortal)(b,m)}},46315:(e,t,a)=>{a.d(t,{Z:()=>y});var n=a(15749),s=a(69405),i=a(30969),o=a(2383),l=a(46138),r=a(48886),c=a(38357),d=a(87130),h=a(43108),x=a(67888),p=a(33656),u=a(11100),m=a(91243),g=a(91862),j=a(49009),f=a(52312),w=a(33926),b=a(76858),v=a(37574);const y=e=>{let{show:t,dialogProps:a,onCancel:y,onConfirm:Z}=e;const C=document.getElementById("portal"),S=(0,s.I0)();(0,w.Z)();const A=function(){return S((0,o.yv)(...arguments))},k=function(){return S((0,o.sy)(...arguments))},[P,E]=(0,i.useState)([{prompt:""}]),[N,R]=(0,i.useState)({}),D=()=>{E([...P,{prompt:""}])};(0,i.useEffect)((()=>{if(a.chatflow&&a.chatflow.chatbotConfig)try{let e=JSON.parse(a.chatflow.chatbotConfig);if(R(e||{}),e.starterPrompts){let t=[];Object.getOwnPropertyNames(e.starterPrompts).forEach((a=>{e.starterPrompts[a]&&t.push(e.starterPrompts[a])})),E(t)}else E([{prompt:""}])}catch(e){E([{prompt:""}])}return()=>{}}),[a]),(0,i.useEffect)((()=>(S(t?{type:o.tS}:{type:o.Go}),()=>S({type:o.Go}))),[t,S]);const W=t?(0,v.jsxs)(r.Z,{onClose:y,open:t,fullWidth:!0,maxWidth:"sm","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,v.jsx)(c.Z,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:a.title||"Conversation Starter Prompts"}),(0,v.jsxs)(d.Z,{children:[(0,v.jsx)("div",{style:{display:"flex",flexDirection:"column",borderRadius:10,background:"#d8f3dc",padding:10},children:(0,v.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,v.jsx)(j.mhH,{size:30,color:"#2d6a4f"}),(0,v.jsx)("span",{style:{color:"#2d6a4f",marginLeft:10,fontWeight:500},children:"Starter prompts will only be shown when there is no messages on the chat"})]})}),(0,v.jsx)(h.Z,{sx:{"& > :not(style)":{m:1},pt:2},children:(0,v.jsx)(x.Z,{children:P.map(((e,t)=>(0,v.jsxs)("div",{style:{display:"flex",width:"100%"},children:[(0,v.jsx)(h.Z,{sx:{width:"95%",mb:1},children:(0,v.jsx)(p.Z,{sx:{width:"100%"},type:"text",onChange:e=>((e,t)=>{const{name:a,value:n}=t.target,s=[...P];s[e][a]=n,E(s)})(t,e),size:"small",value:e.prompt,name:"prompt",endAdornment:(0,v.jsx)(u.Z,{position:"end",sx:{padding:"2px"},children:P.length>1&&(0,v.jsx)(m.Z,{sx:{height:30,width:30},size:"small",color:"error",disabled:1===P.length,onClick:()=>(e=>{const t=[...P];t.splice(e,1),E(t)})(t),edge:"end",children:(0,v.jsx)(j.IT9,{})})})},t)}),(0,v.jsx)(h.Z,{sx:{width:"5%",mb:1},children:t===P.length-1&&(0,v.jsx)(m.Z,{color:"primary",onClick:D,children:(0,v.jsx)(j.SC9,{})})})]},t)))})})]}),(0,v.jsxs)(g.Z,{children:[(0,v.jsx)(l.Z,{onClick:y,children:"Cancel"}),(0,v.jsx)(f.S,{variant:"contained",onClick:async()=>{try{let e={starterPrompts:{...P}};N.starterPrompts=e.starterPrompts;const t=await b.Z.updateChatflow(a.chatflow.id,{chatbotConfig:JSON.stringify(N)});t.data&&(A({message:"Conversation Starter Prompts Saved",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:e=>(0,v.jsx)(l.Z,{style:{color:"white"},onClick:()=>k(e),children:(0,v.jsx)(j.kLi,{})})}}),S({type:o.ch,chatflow:t.data})),Z()}catch(e){const t=e.response.data||"".concat(e.response.status,": ").concat(e.response.statusText);A({message:"Failed to save Conversation Starter Prompts: ".concat(t),options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:e=>(0,v.jsx)(l.Z,{style:{color:"white"},onClick:()=>k(e),children:(0,v.jsx)(j.kLi,{})})}})}},children:"Save"})]})]}):null;return(0,n.createPortal)(W,C)}},38760:(e,t,a)=>{a.d(t,{I:()=>d});var n=a(30969),s=a(39494),i=a(33656),o=a(35531),l=a(75916),r=a(86115),c=a(37574);const d=e=>{var t,a;let{inputParam:d,value:h,nodes:x,edges:p,nodeId:u,onChange:m,disabled:g=!1}=e;const[j,f]=(0,n.useState)(null!==h&&void 0!==h?h:""),[w,b]=(0,n.useState)(null),[v,y]=(0,n.useState)([]),Z=(0,n.useRef)(null),C=Boolean(w),S=()=>{b(null)};return(0,n.useEffect)((()=>{if(!g&&x&&p&&u&&d){const e=null!==d&&void 0!==d&&d.acceptVariable?(0,r.Hg)(x,p,u,d.id):[];y(e)}}),[g,d,x,p,u]),(0,n.useEffect)((()=>{"string"===typeof j&&j&&j.endsWith("{{")&&b(Z.current)}),[j]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.Z,{sx:{mt:1,width:"100%"},size:"small",children:(0,c.jsx)(i.Z,{id:d.name,size:"small",disabled:g,type:(e=>{switch(e){case"string":default:return"text";case"password":return"password";case"number":return"number"}})(d.type),placeholder:d.placeholder,multiline:!!d.rows,rows:null!==(t=d.rows)&&void 0!==t?t:1,value:j,name:d.name,onChange:e=>{f(e.target.value),m(e.target.value)},inputProps:{step:null!==(a=d.step)&&void 0!==a?a:1,style:{height:d.rows?"90px":"inherit"}}})}),(0,c.jsx)("div",{ref:Z}),(null===d||void 0===d?void 0:d.acceptVariable)&&(0,c.jsx)(o.ZP,{open:C,anchorEl:w,onClose:S,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,c.jsx)(l.Z,{disabled:g,availableNodesForVariable:v,onSelectAndReturnVal:e=>{(e=>{const t=j+e.substring(2);m(t),f(t)})(e),S()}})})]})}},75916:(e,t,a)=>{a.d(t,{Z:()=>f});var n=a(69405),s=a(25139),i=a(47915),o=a(43108),l=a(67888),r=a(33485),c=a(54279),d=a(25599),h=a(86008),x=a(42558),p=a.n(x),u=a(47804);const m=a.p+"static/media/chathistory.c04a95d8006f2ac86a7d.png";var g=a(11021),j=a(37574);const f=e=>{let{availableNodesForVariable:t,disabled:a=!1,onSelectAndReturnVal:x}=e;const f=(0,n.v9)((e=>e.customization)),w=(e,t)=>{let a=e?"".concat(e.id,".data.instance"):t;const n="{{".concat(a,"}}");x(n)};return(0,j.jsx)(j.Fragment,{children:!a&&(0,j.jsxs)("div",{style:{flex:30},children:[(0,j.jsx)(s.Z,{flexDirection:"row",sx:{mb:1,ml:2,mt:2},children:(0,j.jsx)(i.Z,{variant:"h5",children:"Select Variable"})}),(0,j.jsx)(p(),{style:{height:"100%",maxHeight:"calc(100vh - 220px)",overflowX:"hidden"},children:(0,j.jsx)(o.Z,{sx:{pl:2,pr:2},children:(0,j.jsxs)(l.Z,{children:[(0,j.jsx)(r.Z,{sx:{p:0,borderRadius:"".concat(f.borderRadius,"px"),boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",mb:1},disabled:a,onClick:()=>w(null,"question"),children:(0,j.jsxs)(c.ZP,{alignItems:"center",children:[(0,j.jsx)(d.Z,{children:(0,j.jsx)("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:(0,j.jsx)("img",{style:{width:"100%",height:"100%",padding:10,objectFit:"contain"},alt:"AI",src:u})})}),(0,j.jsx)(h.Z,{sx:{ml:1},primary:"question",secondary:"User's question from chatbox"})]})}),(0,j.jsx)(r.Z,{sx:{p:0,borderRadius:"".concat(f.borderRadius,"px"),boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",mb:1},disabled:a,onClick:()=>w(null,"chat_history"),children:(0,j.jsxs)(c.ZP,{alignItems:"center",children:[(0,j.jsx)(d.Z,{children:(0,j.jsx)("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:(0,j.jsx)("img",{style:{width:"100%",height:"100%",padding:10,objectFit:"contain"},alt:"chatHistory",src:m})})}),(0,j.jsx)(h.Z,{sx:{ml:1},primary:"chat_history",secondary:"Past conversation history between user and AI"})]})}),t&&t.length>0&&t.map(((e,t)=>{var n,s,i,o;const l=e.data.outputAnchors[0].options.find((t=>t.name===e.data.outputs.output));return(0,j.jsx)(r.Z,{sx:{p:0,borderRadius:"".concat(f.borderRadius,"px"),boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",mb:1},disabled:a,onClick:()=>w(e),children:(0,j.jsxs)(c.ZP,{alignItems:"center",children:[(0,j.jsx)(d.Z,{children:(0,j.jsx)("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:(0,j.jsx)("img",{style:{width:"100%",height:"100%",padding:10,objectFit:"contain"},alt:e.data.name,src:"".concat(g.v2,"/api/v1/node-icon/").concat(e.data.name)})})}),(0,j.jsx)(h.Z,{sx:{ml:1},primary:null!==(n=null!==(s=null!==(i=e.data.inputs.chainName)&&void 0!==i?i:e.data.inputs.functionName)&&void 0!==s?s:e.data.inputs.variableName)&&void 0!==n?n:e.data.id,secondary:"ifElseFunction"===e.data.name?"".concat(e.data.description):"".concat(null!==(o=null===l||void 0===l?void 0:l.label)&&void 0!==o?o:"output"," from ").concat(e.data.label)})]})},t)}))]})})})]})})}},87129:(e,t,a)=>{a.r(t),a.d(t,{default:()=>xe});var n=a(30969),s=a(13026),i=a(69405),o=a(25139),l=a(43108),r=a(34777),c=a(47915),d=a(98483),h=a(11100),x=a(89667),p=a(92752),u=a(26754),m=a(94702),g=a(55705),j=a(24326),f=a(11021),w=a(55303),b=(a(54231),a(48349),a(76858)),v=a(60990),y=a(49009),Z=a(40062),C=a(92426),S=a.n(C),A=a(45971),k=a(7836),P=a(85481),E=a(61758),N=a(82848),R=a(82309),D=a(10741),W=a(92472),F=a(56349),B=a(48598),z=a(46138),M=a(87052),O=a(88208),T=a(30857),q=a(88356),L=a(75295),H=a(26174),I=a(60788),J=a(10814),V=a(57663),X=a(42625),G=a(96979),U=a(60806),Y=a(2383),Q=a(14464),K=a(48886),_=a(38357),$=a(87130),ee=a(91862),te=a(37574);const ae=e=>{let{isOpen:t,dialogProps:a,onClose:s,onSubmit:i}=e;const[o,r]=(0,n.useState)(""),[h,x]=(0,n.useState)([]),p=e=>{e.preventDefault();let t=[...h];o.trim()&&!h.includes(o)&&(t=[...t,o],x(t)),i(t)};return(0,n.useEffect)((()=>(a.category&&x(a.category),()=>{r(""),x([])})),[a]),(0,te.jsxs)(K.Z,{fullWidth:!0,maxWidth:"xs",open:t,onClose:s,"aria-labelledby":"category-dialog-title","aria-describedby":"category-dialog-description",children:[(0,te.jsx)(_.Z,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:"Set Chatflow Category Tags"}),(0,te.jsx)($.Z,{children:(0,te.jsx)(l.Z,{children:(0,te.jsxs)("form",{onSubmit:p,children:[h.length>0&&(0,te.jsx)("div",{style:{marginBottom:10},children:h.map(((e,t)=>(0,te.jsx)(B.Z,{label:e,onDelete:()=>{return t=e,void x(h.filter((e=>e!==t)));var t},style:{marginRight:5,marginBottom:5}},t)))}),(0,te.jsx)(d.Z,{sx:{mt:2},fullWidth:!0,value:o,onChange:e=>{r(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&o.trim()&&(e.preventDefault(),h.includes(o)||(x([...h,o]),r("")))},label:"Add a tag",variant:"outlined"}),(0,te.jsx)(c.Z,{variant:"body2",sx:{fontStyle:"italic",mt:1},color:"text.secondary",children:"Enter a tag and press enter to add it to the list. You can add as many tags as you want."})]})})}),(0,te.jsxs)(ee.Z,{children:[(0,te.jsx)(z.Z,{onClick:s,children:"Cancel"}),(0,te.jsx)(z.Z,{variant:"contained",onClick:p,children:"Submit"})]})]})};var ne=a(86115),se=a(33926),ie=a(46315);const oe=(0,A.ZP)((e=>(0,te.jsx)(O.Z,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e})))((e=>{let{theme:t}=e;return{"& .MuiPaper-root":{borderRadius:6,marginTop:t.spacing(1),minWidth:180,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)},"&:active":{backgroundColor:(0,M.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}}}}}));function le(e){let{chatflow:t,updateFlowsApi:a}=e;const{confirm:s}=(0,U.Z)(),o=(0,i.I0)(),l=(0,v.Z)(b.Z.updateChatflow);(0,se.Z)();const r=function(){return o((0,Y.yv)(...arguments))},c=function(){return o((0,Y.sy)(...arguments))},[d,h]=(0,n.useState)(!1),[x,p]=(0,n.useState)(!1),[u,m]=(0,n.useState)({}),[g,j]=(0,n.useState)(null),w=Boolean(g),[Z,C]=(0,n.useState)(!1),[S,A]=(0,n.useState)({});return(0,te.jsxs)("div",{children:[(0,te.jsx)(z.Z,{id:"demo-customized-button","aria-controls":w?"demo-customized-menu":void 0,"aria-haspopup":"true","aria-expanded":w?"true":void 0,disableElevation:!0,onClick:e=>{j(e.currentTarget)},endIcon:(0,te.jsx)(G.Z,{}),children:"Options"}),(0,te.jsxs)(oe,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:g,open:w,onClose:()=>{j(null)},children:[(0,te.jsxs)(T.Z,{onClick:()=>{j(null),h(!0)},disableRipple:!0,children:[(0,te.jsx)(q.Z,{}),"Rename"]}),(0,te.jsxs)(T.Z,{onClick:()=>{j(null);try{localStorage.setItem("duplicatedFlowData",t.flowData),window.open("".concat(f.kZ,"/canvas"),"_blank")}catch(e){console.error(e)}},disableRipple:!0,children:[(0,te.jsx)(H.Z,{}),"Duplicate"]}),(0,te.jsxs)(T.Z,{onClick:()=>{j(null);try{const e=JSON.parse(t.flowData);let a=JSON.stringify((0,ne.mx)(e),null,2),n="data:application/json;charset=utf-8,"+encodeURIComponent(a),s="".concat(t.name," Chatflow.json"),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download",s),i.click()}catch(e){console.error(e)}},disableRipple:!0,children:[(0,te.jsx)(I.Z,{}),"Export"]}),(0,te.jsx)(L.Z,{sx:{my:.5}}),(0,te.jsxs)(T.Z,{onClick:()=>{j(null),A({title:"Starter Prompts - "+t.name,chatflow:t}),C(!0)},disableRipple:!0,children:[(0,te.jsx)(X.Z,{}),"Starter Prompts"]}),(0,te.jsxs)(T.Z,{onClick:()=>{j(null),t.category&&m({category:t.category.split(";")}),p(!0)},disableRipple:!0,children:[(0,te.jsx)(V.Z,{}),"Update Category"]}),(0,te.jsx)(L.Z,{sx:{my:.5}}),(0,te.jsxs)(T.Z,{onClick:async()=>{j(null);const e={title:"Delete",description:"Delete chatflow ".concat(t.name,"?"),confirmButtonName:"Delete",cancelButtonName:"Cancel"};if(await s(e))try{await b.Z.deleteChatflow(t.id),await a.request()}catch(n){const e=n.response.data||"".concat(n.response.status,": ").concat(n.response.statusText);r({message:e,options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:e=>(0,te.jsx)(z.Z,{style:{color:"white"},onClick:()=>c(e),children:(0,te.jsx)(y.kLi,{})})}})}},disableRipple:!0,children:[(0,te.jsx)(J.Z,{}),"Delete"]})]}),(0,te.jsx)(Q.Z,{show:d,dialogProps:{title:"Rename Chatflow",confirmButtonName:"Rename",cancelButtonName:"Cancel"},onCancel:()=>h(!1),onConfirm:async e=>{const n={name:e,chatflow:t};try{await l.request(t.id,n),await a.request()}catch(s){const e=s.response.data||"".concat(s.response.status,": ").concat(s.response.statusText);r({message:e,options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:e=>(0,te.jsx)(z.Z,{style:{color:"white"},onClick:()=>c(e),children:(0,te.jsx)(y.kLi,{})})}})}}}),(0,te.jsx)(ae,{isOpen:x,dialogProps:u,onClose:()=>p(!1),onSubmit:async e=>{p(!1);const n={category:e.join(";"),chatflow:t};try{await l.request(t.id,n),await a.request()}catch(s){const e=s.response.data||"".concat(s.response.status,": ").concat(s.response.statusText);r({message:e,options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:e=>(0,te.jsx)(z.Z,{style:{color:"white"},onClick:()=>c(e),children:(0,te.jsx)(y.kLi,{})})}})}}}),(0,te.jsx)(ie.Z,{show:Z,dialogProps:S,onConfirm:async()=>{C(!1),await a.request()},onCancel:()=>C(!1)})]})}const re=(0,A.ZP)(E.Z)((e=>{let{theme:t}=e;return{["&.".concat(N.Z.head)]:{backgroundColor:t.palette.common.black,color:t.palette.common.white},["&.".concat(N.Z.body)]:{fontSize:14}}})),ce=(0,A.ZP)(W.Z)((e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),de=e=>{let{data:t,images:a,filterFunction:n,updateFlowsApi:i}=e;const l=(0,s.s0)();return(0,te.jsx)(te.Fragment,{children:(0,te.jsx)(R.Z,{style:{marginTop:"30",border:1},component:F.Z,children:(0,te.jsxs)(k.Z,{sx:{minWidth:650},size:"small","aria-label":"a dense table",children:[(0,te.jsx)(D.Z,{children:(0,te.jsxs)(W.Z,{sx:{marginTop:"10",backgroundColor:"primary"},children:[(0,te.jsx)(re,{component:"th",scope:"row",style:{width:"20%"},children:"Name"},"0"),(0,te.jsx)(re,{style:{width:"25%"},children:"Category"},"1"),(0,te.jsx)(re,{style:{width:"30%"},children:"Nodes"},"2"),(0,te.jsx)(re,{style:{width:"15%"},children:"Last Modified Date"},"3"),(0,te.jsx)(re,{style:{width:"10%"},children:"Actions"},"4")]})}),(0,te.jsx)(P.Z,{children:t.filter(n).map(((e,t)=>(0,te.jsxs)(ce,{children:[(0,te.jsx)(E.Z,{children:(0,te.jsx)(c.Z,{sx:{fontSize:"1.2rem",fontWeight:500,overflowWrap:"break-word",whiteSpace:"pre-line"},children:(0,te.jsx)(z.Z,{onClick:()=>{l("/canvas/".concat(e.id))},sx:{textAlign:"left"},children:e.templateName||e.name})})},"0"),(0,te.jsx)(E.Z,{children:(0,te.jsxs)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:5},children:["\xa0",e.category&&e.category.split(";").map(((e,t)=>(0,te.jsx)(B.Z,{label:e,style:{marginRight:5,marginBottom:5}},t)))]})},"1"),(0,te.jsx)(E.Z,{children:a[e.id]&&(0,te.jsxs)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:5},children:[a[e.id].slice(0,a[e.id].length>5?5:a[e.id].length).map((e=>(0,te.jsx)("div",{style:{width:35,height:35,marginRight:5,borderRadius:"50%",backgroundColor:"white",marginTop:5},children:(0,te.jsx)("img",{style:{width:"100%",height:"100%",padding:5,objectFit:"contain"},alt:"",src:e})},e))),a[e.id].length>5&&(0,te.jsxs)(c.Z,{sx:{alignItems:"center",display:"flex",fontSize:".8rem",fontWeight:200},children:["+ ",a[e.id].length-5," More"]})]})},"2"),(0,te.jsx)(E.Z,{children:S()(e.updatedDate).format("MMMM Do, YYYY")},"3"),(0,te.jsx)(E.Z,{children:(0,te.jsx)(o.Z,{direction:{xs:"column",sm:"row"},spacing:1,justifyContent:"center",alignItems:"center",children:(0,te.jsx)(le,{chatflow:e,updateFlowsApi:i})})},"4")]},t)))})]})})})};var he=a(52312);const xe=(0,a(66798).u3)((()=>{const e=(0,s.s0)(),t=(0,m.Z)(),a=(0,i.v9)((e=>e.customization)),[C,S]=(0,n.useState)(!0),[A,k]=(0,n.useState)({}),[P,E]=(0,n.useState)(""),[N,R]=(0,n.useState)(!1),[D,W]=(0,n.useState)({}),F=(0,v.Z)(b.Z.getAllChatflows),[B,z]=n.useState(localStorage.getItem("flowDisplayStyle")||"card");function M(e){return e.name.toLowerCase().indexOf(P.toLowerCase())>-1||e.category&&e.category.toLowerCase().indexOf(P.toLowerCase())>-1}return(0,n.useEffect)((()=>{F.request()}),[]),(0,n.useEffect)((()=>{S(F.loading)}),[F.loading]),(0,n.useEffect)((()=>{if(F.data)try{const e=F.data,t={};for(let a=0;a<e.length;a+=1){const n=e[a].flowData,s=JSON.parse(n).nodes||[];t[e[a].id]=[];for(let i=0;i<s.length;i+=1){const n="".concat(f.v2,"/api/v1/node-icon/").concat(s[i].data.name);t[e[a].id].includes(n)||t[e[a].id].push(n)}}k(t)}catch(e){console.error(e)}}),[F.data]),(0,te.jsxs)(g.Z,{sx:{background:a.isDarkMode?t.palette.common.black:""},children:[(0,te.jsxs)(o.Z,{flexDirection:"column",children:[(0,te.jsx)(l.Z,{sx:{flexGrow:1},children:(0,te.jsxs)(r.Z,{disableGutters:!0,style:{margin:1,padding:1,paddingBottom:10,display:"flex",justifyContent:"space-between",width:"100%"},children:[(0,te.jsx)(c.Z,{variant:"h1",children:"Chatflows"}),(0,te.jsx)(d.Z,{size:"small",sx:{display:{xs:"none",sm:"block"},ml:3},variant:"outlined",placeholder:"Search name or category",onChange:e=>{E(e.target.value)},InputProps:{startAdornment:(0,te.jsx)(h.Z,{position:"start",children:(0,te.jsx)(y.jVj,{})})}}),(0,te.jsx)(l.Z,{sx:{flexGrow:1}}),(0,te.jsxs)(x.Z,{sx:{maxHeight:40},disableElevation:!0,variant:"contained","aria-label":"outlined primary button group",children:[(0,te.jsx)(x.Z,{disableElevation:!0,variant:"contained","aria-label":"outlined primary button group",children:(0,te.jsxs)(Z.Z,{sx:{maxHeight:40},value:B,color:"primary",exclusive:!0,onChange:(e,t)=>{localStorage.setItem("flowDisplayStyle",t),z(t)},children:[(0,te.jsx)(p.Z,{sx:{borderRadius:"0px"},variant:"contained",value:"card",title:"Card View",children:(0,te.jsx)(y.lp2,{})}),(0,te.jsx)(p.Z,{sx:{borderRadius:"0px"},variant:"contained",value:"list",title:"List View",children:(0,te.jsx)(y.ZdG,{})})]})}),(0,te.jsx)(l.Z,{sx:{width:5}}),(0,te.jsx)(x.Z,{disableElevation:!0,"aria-label":"outlined primary button group",children:(0,te.jsx)(he.S,{variant:"contained",onClick:()=>{e("/canvas")},startIcon:(0,te.jsx)(y.SC9,{}),children:"Add New"})})]})]})}),!C&&(!B||"card"===B)&&F.data&&(0,te.jsx)(u.ZP,{container:!0,spacing:f.dv,children:F.data.filter(M).map(((t,a)=>(0,te.jsx)(u.ZP,{item:!0,lg:3,md:4,sm:6,xs:12,children:(0,te.jsx)(j.Z,{onClick:()=>{e("/canvas/".concat(t.id))},data:t,images:A[t.id]})},a)))}),!C&&"list"===B&&F.data&&(0,te.jsx)(de,{sx:{mt:20},data:F.data,images:A,filterFunction:M,updateFlowsApi:F})]}),!C&&(!F.data||0===F.data.length)&&(0,te.jsxs)(o.Z,{sx:{alignItems:"center",justifyContent:"center"},flexDirection:"column",children:[(0,te.jsx)(l.Z,{sx:{p:2,height:"auto"},children:(0,te.jsx)("img",{style:{objectFit:"cover",height:"30vh",width:"auto"},src:w.Z,alt:"WorkflowEmptySVG"})}),(0,te.jsx)("div",{children:"No Chatflows Yet"})]})]})}))},47804:e=>{e.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=5290.db41b2e7.chunk.js.map