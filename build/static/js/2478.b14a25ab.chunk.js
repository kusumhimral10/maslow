"use strict";(self.webpackChunkflowise_ui=self.webpackChunkflowise_ui||[]).push([[2478],{76858:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(23917);const o={getAllChatflows:()=>n.Z.get("/chatflows"),getSpecificChatflow:e=>n.Z.get("/chatflows/".concat(e)),getSpecificChatflowFromPublicEndpoint:e=>n.Z.get("/public-chatflows/".concat(e)),createNewChatflow:e=>n.Z.post("/chatflows",e),updateChatflow:(e,t)=>n.Z.put("/chatflows/".concat(e),t),deleteChatflow:e=>n.Z.delete("/chatflows/".concat(e)),getIsChatflowStreaming:e=>n.Z.get("/chatflows-streaming/".concat(e))}},23917:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(88264),o=a(11021);const r=n.Z.create({baseURL:"".concat(o.v2,"/api/v1"),headers:{"Content-type":"application/json"}});r.interceptors.request.use((function(e){const t=localStorage.getItem("username"),a=localStorage.getItem("password");return t&&a&&(e.auth={username:t,password:a}),e}));const s=r},60990:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(30969);const o=e=>{const[t,a]=(0,n.useState)(null),[o,r]=(0,n.useState)(null),[s,i]=(0,n.useState)(!1);return{data:t,error:o,loading:s,request:async function(){i(!0);try{const t=await e(...arguments);a(t.data)}catch(t){r(t||"Unexpected Error!")}finally{i(!1)}}}}},52312:(e,t,a)=>{a.d(t,{S:()=>s});var n=a(45971),o=a(46138),r=a(92752);const s=(0,n.ZP)(o.Z)((e=>{let{theme:t,color:a="primary"}=e;return{background:"#469DBB",color:"#fff",borderRadius:"0px","&:disabled":{backgroundColor:t.palette.primary.isDisable},"&:hover":{backgroundColor:"#2398c1",backgroundImage:"linear-gradient(rgb(0 0 0/10%) 0 0)"}}}));(0,n.ZP)(r.Z)((e=>{let{theme:t,color:a="primary"}=e;return{"&.Mui-selected, &.Mui-selected:hover":{color:"white",backgroundColor:t.palette[a].main}}}))},54231:(e,t,a)=>{a.d(t,{Z:()=>f});var n=a(15749),o=a(30969),r=a(48886),s=a(38357),i=a(87130),l=a(47915),c=a(91862),d=a(52312),u=a(38760),h=a(37574);const f=e=>{let{show:t,dialogProps:a,onConfirm:f}=e;const g=document.getElementById("portal"),[p,m]=(0,o.useState)(""),[v,b]=(0,o.useState)(""),x=t?(0,h.jsxs)(r.Z,{onKeyUp:e=>{"Enter"===e.key&&f(p,v)},open:t,fullWidth:!0,maxWidth:"xs","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,h.jsx)(s.Z,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:a.title}),(0,h.jsxs)(i.Z,{children:[(0,h.jsx)(l.Z,{children:"Username"}),(0,h.jsx)(u.I,{inputParam:{label:"Username",name:"username",type:"string",placeholder:"john doe"},onChange:e=>m(e),value:p,showDialog:!1}),(0,h.jsx)("div",{style:{marginTop:20}}),(0,h.jsx)(l.Z,{children:"Password"}),(0,h.jsx)(u.I,{inputParam:{label:"Password",name:"password",type:"password"},onChange:e=>b(e),value:v})]}),(0,h.jsx)(c.Z,{children:(0,h.jsx)(d.S,{variant:"contained",onClick:()=>f(p,v),children:a.confirmButtonName})})]}):null;return(0,n.createPortal)(x,g)}},38760:(e,t,a)=>{a.d(t,{I:()=>d});var n=a(30969),o=a(39494),r=a(33656),s=a(35531),i=a(75916),l=a(86115),c=a(37574);const d=e=>{var t,a;let{inputParam:d,value:u,nodes:h,edges:f,nodeId:g,onChange:p,disabled:m=!1}=e;const[v,b]=(0,n.useState)(null!==u&&void 0!==u?u:""),[x,w]=(0,n.useState)(null),[j,A]=(0,n.useState)([]),y=(0,n.useRef)(null),C=Boolean(x),Z=()=>{w(null)};return(0,n.useEffect)((()=>{if(!m&&h&&f&&g&&d){const e=null!==d&&void 0!==d&&d.acceptVariable?(0,l.Hg)(h,f,g,d.id):[];A(e)}}),[m,d,h,f,g]),(0,n.useEffect)((()=>{"string"===typeof v&&v&&v.endsWith("{{")&&w(y.current)}),[v]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.Z,{sx:{mt:1,width:"100%"},size:"small",children:(0,c.jsx)(r.Z,{id:d.name,size:"small",disabled:m,type:(e=>{switch(e){case"string":default:return"text";case"password":return"password";case"number":return"number"}})(d.type),placeholder:d.placeholder,multiline:!!d.rows,rows:null!==(t=d.rows)&&void 0!==t?t:1,value:v,name:d.name,onChange:e=>{b(e.target.value),p(e.target.value)},inputProps:{step:null!==(a=d.step)&&void 0!==a?a:1,style:{height:d.rows?"90px":"inherit"}}})}),(0,c.jsx)("div",{ref:y}),(null===d||void 0===d?void 0:d.acceptVariable)&&(0,c.jsx)(s.ZP,{open:C,anchorEl:x,onClose:Z,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,c.jsx)(i.Z,{disabled:m,availableNodesForVariable:j,onSelectAndReturnVal:e=>{(e=>{const t=v+e.substring(2);p(t),b(t)})(e),Z()}})})]})}},75916:(e,t,a)=>{a.d(t,{Z:()=>b});var n=a(69405),o=a(25139),r=a(47915),s=a(43108),i=a(67888),l=a(33485),c=a(54279),d=a(25599),u=a(86008),h=a(42558),f=a.n(h),g=a(47804);const p=a.p+"static/media/chathistory.c04a95d8006f2ac86a7d.png";var m=a(11021),v=a(37574);const b=e=>{let{availableNodesForVariable:t,disabled:a=!1,onSelectAndReturnVal:h}=e;const b=(0,n.v9)((e=>e.customization)),x=(e,t)=>{let a=e?"".concat(e.id,".data.instance"):t;const n="{{".concat(a,"}}");h(n)};return(0,v.jsx)(v.Fragment,{children:!a&&(0,v.jsxs)("div",{style:{flex:30},children:[(0,v.jsx)(o.Z,{flexDirection:"row",sx:{mb:1,ml:2,mt:2},children:(0,v.jsx)(r.Z,{variant:"h5",children:"Select Variable"})}),(0,v.jsx)(f(),{style:{height:"100%",maxHeight:"calc(100vh - 220px)",overflowX:"hidden"},children:(0,v.jsx)(s.Z,{sx:{pl:2,pr:2},children:(0,v.jsxs)(i.Z,{children:[(0,v.jsx)(l.Z,{sx:{p:0,borderRadius:"".concat(b.borderRadius,"px"),boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",mb:1},disabled:a,onClick:()=>x(null,"question"),children:(0,v.jsxs)(c.ZP,{alignItems:"center",children:[(0,v.jsx)(d.Z,{children:(0,v.jsx)("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:(0,v.jsx)("img",{style:{width:"100%",height:"100%",padding:10,objectFit:"contain"},alt:"AI",src:g})})}),(0,v.jsx)(u.Z,{sx:{ml:1},primary:"question",secondary:"User's question from chatbox"})]})}),(0,v.jsx)(l.Z,{sx:{p:0,borderRadius:"".concat(b.borderRadius,"px"),boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",mb:1},disabled:a,onClick:()=>x(null,"chat_history"),children:(0,v.jsxs)(c.ZP,{alignItems:"center",children:[(0,v.jsx)(d.Z,{children:(0,v.jsx)("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:(0,v.jsx)("img",{style:{width:"100%",height:"100%",padding:10,objectFit:"contain"},alt:"chatHistory",src:p})})}),(0,v.jsx)(u.Z,{sx:{ml:1},primary:"chat_history",secondary:"Past conversation history between user and AI"})]})}),t&&t.length>0&&t.map(((e,t)=>{var n,o,r,s;const i=e.data.outputAnchors[0].options.find((t=>t.name===e.data.outputs.output));return(0,v.jsx)(l.Z,{sx:{p:0,borderRadius:"".concat(b.borderRadius,"px"),boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",mb:1},disabled:a,onClick:()=>x(e),children:(0,v.jsxs)(c.ZP,{alignItems:"center",children:[(0,v.jsx)(d.Z,{children:(0,v.jsx)("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:(0,v.jsx)("img",{style:{width:"100%",height:"100%",padding:10,objectFit:"contain"},alt:e.data.name,src:"".concat(m.v2,"/api/v1/node-icon/").concat(e.data.name)})})}),(0,v.jsx)(u.Z,{sx:{ml:1},primary:null!==(n=null!==(o=null!==(r=e.data.inputs.chainName)&&void 0!==r?r:e.data.inputs.functionName)&&void 0!==o?o:e.data.inputs.variableName)&&void 0!==n?n:e.data.id,secondary:"ifElseFunction"===e.data.name?"".concat(e.data.description):"".concat(null!==(s=null===i||void 0===i?void 0:i.label)&&void 0!==s?s:"output"," from ").concat(e.data.label)})]})},t)}))]})})})]})})}},19448:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var n=a(30969),o=a(37574);function r(e,t,a,n){return new(a||(a=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function i(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,i)}l((n=n.apply(e,t||[])).next())}))}const s=e=>{var{style:t,className:s}=e,i=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]])}return a}(e,["style","className"]);const l=(0,n.useRef)(null);return(0,n.useEffect)((()=>{r(void 0,void 0,void 0,(function*(){yield a.e(690).then(a.bind(a,20690))}))}),[]),(0,n.useEffect)((()=>{l.current&&Object.assign(l.current,i)}),[i]),(0,o.jsx)("flowise-fullchatbot",{ref:l,style:t,class:s})};var i=a(13026),l=a(54231),c=a(76858),d=a(60990),u=a(11021);const h=(0,a(66798).u3)((()=>{const e=document.location.pathname.toString().split("/"),t="chatbot"===e[e.length-1]?"":e[e.length-1],a=(0,i.s0)(),[r,h]=(0,n.useState)(null),[f,g]=(0,n.useState)({}),[p,m]=(0,n.useState)(!1),[v,b]=(0,n.useState)({}),[x,w]=(0,n.useState)(!0),[j,A]=(0,n.useState)({}),y=(0,d.Z)(c.Z.getSpecificChatflowFromPublicEndpoint),C=(0,d.Z)(c.Z.getSpecificChatflow);return(0,n.useEffect)((()=>{y.request(t)}),[]),(0,n.useEffect)((()=>{var e,a;y.error&&(401===(null===(e=y.error)||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&(localStorage.getItem("username")&&localStorage.getItem("password")?C.request(t):(b({title:"Login",confirmButtonName:"Login"}),m(!0))))}),[y.error]),(0,n.useEffect)((()=>{var e,t;C.error&&(401===(null===(e=C.error)||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&(b({title:"Login",confirmButtonName:"Login"}),m(!0)))}),[C.error]),(0,n.useEffect)((()=>{if(y.data||C.data){const t=y.data||C.data;if(h(t),t.chatbotConfig)try{const e=JSON.parse(t.chatbotConfig);g(e),e.overrideConfig&&(e.overrideConfig.generateNewSession&&(e.overrideConfig.sessionId=Date.now().toString()),A(e.overrideConfig))}catch(e){console.error(e),g({}),A({})}}}),[y.data,C.data]),(0,n.useEffect)((()=>{w(y.loading||C.loading)}),[y.loading,C.loading]),(0,o.jsx)(o.Fragment,{children:x?null:(0,o.jsxs)(o.Fragment,{children:[!r||r.apikeyid?(0,o.jsx)("p",{children:"Invalid Chatbot"}):(0,o.jsx)(s,{chatflowid:r.id,apiHost:u.v2,chatflowConfig:j,theme:{chatWindow:f}}),(0,o.jsx)(l.Z,{show:p,dialogProps:v,onConfirm:(e,t)=>{localStorage.setItem("username",e),localStorage.setItem("password",t),a(0)}})]})})}))},47804:e=>{e.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=2478.b14a25ab.chunk.js.map