"use strict";(self.webpackChunkflowise_ui=self.webpackChunkflowise_ui||[]).push([[1842],{47136:(e,t,a)=>{a.r(t),a.d(t,{default:()=>O});var r=a(30969),n=a(48428),s=a(5378),o=a(18658),i=(a(30599),a(86420),a(13026)),l=a(43108),d=a(39088),c=a(34777),x=a(94702),h=a(45971),p=a(47915),m=a(75295),u=a(46138),g=a(55705),j=a(5107),f=a(22526),Z=a(27341),y=a(11021),b=a(37574);const w=(0,h.ZP)(g.Z)((e=>{let{theme:t}=e;return{background:t.palette.card.main,color:t.darkTextPrimary,border:"solid 1px",borderColor:t.palette.primary[200]+75,width:"300px",height:"auto",padding:"10px",boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)","&:hover":{borderColor:t.palette.primary.main}}})),v=e=>{let{data:t}=e;const a=(0,x.Z)(),[n,s]=(0,r.useState)(!1),[o,i]=(0,r.useState)({});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w,{content:!1,sx:{padding:0,borderColor:t.selected?a.palette.primary.main:a.palette.text.secondary},border:!1,children:(0,b.jsxs)(l.Z,{children:[(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,b.jsx)(l.Z,{style:{width:50,marginRight:10,padding:5},children:(0,b.jsx)("div",{style:{...a.typography.commonAvatar,...a.typography.largeAvatar,borderRadius:"50%",backgroundColor:"white",cursor:"grab"},children:(0,b.jsx)("img",{style:{width:"100%",height:"100%",padding:5,objectFit:"contain"},src:"".concat(y.v2,"/api/v1/node-icon/").concat(t.name),alt:"Notification"})})}),(0,b.jsx)(l.Z,{children:(0,b.jsx)(p.Z,{sx:{fontSize:"1rem",fontWeight:500},children:t.label})})]}),(t.inputAnchors.length>0||t.inputParams.length>0)&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Z,{}),(0,b.jsx)(l.Z,{sx:{background:a.palette.asyncSelect.main,p:1},children:(0,b.jsx)(p.Z,{sx:{fontWeight:500,textAlign:"center"},children:"Inputs"})}),(0,b.jsx)(m.Z,{})]}),t.inputAnchors.map(((e,a)=>(0,b.jsx)(j.Z,{disabled:!0,inputAnchor:e,data:t},a))),t.inputParams.map(((e,a)=>(0,b.jsx)(j.Z,{disabled:!0,inputParam:e,data:t},a))),t.inputParams.find((e=>e.additionalParams))&&(0,b.jsx)("div",{style:{textAlign:"center"},children:(0,b.jsx)(u.Z,{sx:{borderRadius:25,width:"90%",mb:2},variant:"outlined",onClick:()=>{const e={data:t,inputParams:t.inputParams.filter((e=>e.additionalParams)),disabled:!0,confirmButtonName:"Save",cancelButtonName:"Cancel"};i(e),s(!0)},children:"Additional Parameters"})}),(0,b.jsx)(m.Z,{}),(0,b.jsx)(l.Z,{sx:{background:a.palette.asyncSelect.main,p:1},children:(0,b.jsx)(p.Z,{sx:{fontWeight:500,textAlign:"center"},children:"Output"})}),(0,b.jsx)(m.Z,{}),t.outputAnchors.map(((e,a)=>(0,b.jsx)(f.Z,{disabled:!0,outputAnchor:e,data:t},a)))]})}),(0,b.jsx)(Z.Z,{show:n,dialogProps:o,onCancel:()=>s(!1)})]})};var k=a(6596),C=a(59467),A=a(25139),N=a(52312),P=a(49009);const S=e=>{let{flowName:t,flowData:a,onChatflowCopy:r}=e;const n=(0,x.Z)(),s=(0,i.s0)();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.Z,{children:(0,b.jsx)(k.Z,{title:"Back",sx:{borderRadius:"50%"},children:(0,b.jsx)(C.Z,{variant:"rounded",sx:{...n.typography.commonAvatar,...n.typography.mediumAvatar,transition:"all .2s ease-in-out",background:n.palette.secondary.light,color:n.palette.secondary.dark,"&:hover":{background:n.palette.secondary.dark,color:n.palette.secondary.light}},color:"inherit",onClick:()=>s(-1),children:(0,b.jsx)(P.ed9,{stroke:1.5,size:"1.3rem"})})})}),(0,b.jsx)(l.Z,{sx:{flexGrow:1},children:(0,b.jsx)(A.Z,{flexDirection:"row",children:(0,b.jsx)(p.Z,{sx:{fontSize:"1.5rem",fontWeight:600,ml:2},children:t})})}),(0,b.jsx)(l.Z,{children:(0,b.jsx)(N.S,{color:"secondary",variant:"contained",title:"Use Chatflow",onClick:()=>r(a),startIcon:(0,b.jsx)(P.vUr,{}),children:"Use Template"})})]})};var D=a(66798);const F={customNode:v},R={buttonedge:""},O=(0,D.u3)((()=>{const e=(0,x.Z)(),t=(0,i.s0)(),{state:a}=(0,i.TH)(),{flowData:h,name:p}=a,[m,u,g]=(0,n.Rr)(),[j,f,Z]=(0,n.ll)(),y=(0,r.useRef)(null);(0,r.useEffect)((()=>{if(h){const e=JSON.parse(h);u(e.nodes||[]),f(e.edges||[])}}),[h]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(l.Z,{children:[(0,b.jsx)(d.Z,{enableColorOnDark:!0,position:"fixed",color:"inherit",elevation:1,sx:{bgcolor:e.palette.background.default},children:(0,b.jsx)(c.Z,{children:(0,b.jsx)(S,{flowName:p,flowData:JSON.parse(h),onChatflowCopy:e=>(e=>{const a=JSON.stringify(e);t("/canvas",{state:{templateFlowData:a}})})(e)})})}),(0,b.jsx)(l.Z,{sx:{pt:"70px",height:"100vh",width:"100%"},children:(0,b.jsx)("div",{className:"reactflow-parent-wrapper",children:(0,b.jsx)("div",{className:"reactflow-wrapper",ref:y,children:(0,b.jsxs)(n.x$,{nodes:m,edges:j,onNodesChange:g,onEdgesChange:Z,nodesDraggable:!1,nodeTypes:F,edgeTypes:R,fitView:!0,minZoom:.1,children:[(0,b.jsx)(s.Z,{style:{display:"flex",flexDirection:"row",left:"50%",transform:"translate(-50%, -50%)"}}),(0,b.jsx)(o.A,{color:"#aaa",gap:16})]})})})})]})})}))}}]);
//# sourceMappingURL=1842.bfbc2b71.chunk.js.map