"use strict";(self.webpackChunkflowise_ui=self.webpackChunkflowise_ui||[]).push([[2682],{2682:(t,e,o)=>{o.r(e),o.d(e,{default:()=>A});var a=o(30969),n=o(69405),i=o(2383),r=o(92426),l=o.n(r),d=o(46138),c=o(25139),s=o(43108),u=o(34777),p=o(47915),h=o(98483),m=o(11100),v=o(89667),x=o(82309),g=o(56349),b=o(7836),Z=o(10741),f=o(92472),j=o(61758),C=o(85481),B=o(91243),y=o(94702),w=o(55705),R=o(52312),S=o(76003),k=o(48349),D=o(55878),E=o(42586),z=o(60990),N=o(60806),T=o(33926),M=o(49009);const W=o.p+"static/media/credential_empty.2c841d60379142cf34367c467ba2964a.svg";var L=o(11021),P=o(66798),F=o(37574);const A=(0,P.u3)((()=>{const t=(0,y.Z)(),e=(0,n.v9)((t=>t.customization)),o=(0,n.I0)();(0,T.Z)();const r=function(){return o((0,i.yv)(...arguments))},P=function(){return o((0,i.sy)(...arguments))},[A,G]=(0,a.useState)(!1),[I,V]=(0,a.useState)({}),[O,H]=(0,a.useState)(!1),[Y,q]=(0,a.useState)({}),[_,U]=(0,a.useState)([]),[J,K]=(0,a.useState)([]),{confirm:Q}=(0,N.Z)(),X=(0,z.Z)(E.Z.getAllCredentials),$=(0,z.Z)(E.Z.getAllComponentsCredentials),[tt,et]=(0,a.useState)("");const ot=()=>{G(!1),H(!1),X.request()};return(0,a.useEffect)((()=>{X.request(),$.request()}),[]),(0,a.useEffect)((()=>{X.data&&U(X.data)}),[X.data]),(0,a.useEffect)((()=>{$.data&&(K($.data),o({type:i.p9,componentsCredentials:$.data}))}),[$.data,o]),(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(w.Z,{sx:{background:e.isDarkMode?t.palette.common.black:""},children:[(0,F.jsx)(c.Z,{flexDirection:"row",children:(0,F.jsx)(s.Z,{sx:{flexGrow:1},children:(0,F.jsxs)(u.Z,{disableGutters:!0,style:{margin:1,padding:1,paddingBottom:10,display:"flex",justifyContent:"space-between",width:"100%"},children:[(0,F.jsx)(p.Z,{variant:"h1",children:"Credentials\xa0"}),(0,F.jsx)(h.Z,{size:"small",sx:{display:{xs:"none",sm:"block"},ml:3},variant:"outlined",placeholder:"Search credential name",onChange:t=>{et(t.target.value)},InputProps:{startAdornment:(0,F.jsx)(m.Z,{position:"start",children:(0,F.jsx)(M.jVj,{})})}}),(0,F.jsx)(s.Z,{sx:{flexGrow:1}}),(0,F.jsx)(v.Z,{sx:{maxHeight:40},disableElevation:!0,variant:"contained","aria-label":"outlined primary button group",children:(0,F.jsx)(v.Z,{disableElevation:!0,"aria-label":"outlined primary button group",children:(0,F.jsx)(R.S,{variant:"contained",sx:{color:"white",mr:1,height:37},onClick:()=>{V({title:"Add New Credential",componentsCredentials:J}),G(!0)},startIcon:(0,F.jsx)(M.SC9,{}),children:"Add Credential"})})})]})})}),_.length<=0&&(0,F.jsxs)(c.Z,{sx:{alignItems:"center",justifyContent:"center"},flexDirection:"column",children:[(0,F.jsx)(s.Z,{sx:{p:2,height:"auto"},children:(0,F.jsx)("img",{style:{objectFit:"cover",height:"30vh",width:"auto"},src:W,alt:"CredentialEmptySVG"})}),(0,F.jsx)("div",{children:"No Credentials Yet"})]}),_.length>0&&(0,F.jsx)(x.Z,{component:g.Z,children:(0,F.jsxs)(b.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,F.jsx)(Z.Z,{children:(0,F.jsxs)(f.Z,{children:[(0,F.jsx)(j.Z,{children:"Name"}),(0,F.jsx)(j.Z,{children:"Last Updated"}),(0,F.jsx)(j.Z,{children:"Created"}),(0,F.jsx)(j.Z,{children:" "}),(0,F.jsx)(j.Z,{children:" "})]})}),(0,F.jsx)(C.Z,{children:_.filter((function(t){return t.credentialName.toLowerCase().indexOf(tt.toLowerCase())>-1})).map(((t,e)=>(0,F.jsxs)(f.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,F.jsx)(j.Z,{component:"th",scope:"row",children:(0,F.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,F.jsx)("div",{style:{width:25,height:25,marginRight:10,borderRadius:"50%"},children:(0,F.jsx)("img",{style:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"contain"},alt:t.credentialName,src:"".concat(L.v2,"/api/v1/components-credentials-icon/").concat(t.credentialName)})}),t.name]})}),(0,F.jsx)(j.Z,{children:l()(t.updatedDate).format("DD-MMM-YY")}),(0,F.jsx)(j.Z,{children:l()(t.createdDate).format("DD-MMM-YY")}),(0,F.jsx)(j.Z,{children:(0,F.jsx)(B.Z,{title:"Edit",color:"primary",onClick:()=>(t=>{q({type:"EDIT",cancelButtonName:"Cancel",confirmButtonName:"Save",data:t}),H(!0)})(t),children:(0,F.jsx)(M.yl5,{})})}),(0,F.jsx)(j.Z,{children:(0,F.jsx)(B.Z,{title:"Delete",color:"error",onClick:()=>(async t=>{const e={title:"Delete",description:"Delete credential ".concat(t.name,"?"),confirmButtonName:"Delete",cancelButtonName:"Cancel"};if(await Q(e))try{(await E.Z.deleteCredential(t.id)).data&&(r({message:"Credential deleted",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:t=>(0,F.jsx)(d.Z,{style:{color:"white"},onClick:()=>P(t),children:(0,F.jsx)(M.kLi,{})})}}),ot())}catch(o){const t=o.response.data||"".concat(o.response.status,": ").concat(o.response.statusText);r({message:"Failed to delete Credential: ".concat(t),options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:t=>(0,F.jsx)(d.Z,{style:{color:"white"},onClick:()=>P(t),children:(0,F.jsx)(M.kLi,{})})}}),onCancel()}})(t),children:(0,F.jsx)(M.IT9,{})})})]},e)))})]})})]}),(0,F.jsx)(S.Z,{show:A,dialogProps:I,onCancel:()=>G(!1),onCredentialSelected:t=>{G(!1),(t=>{q({type:"ADD",cancelButtonName:"Cancel",confirmButtonName:"Add",credentialComponent:t}),H(!0)})(t)}}),(0,F.jsx)(D.Z,{show:O,dialogProps:Y,onCancel:()=>H(!1),onConfirm:ot}),(0,F.jsx)(k.Z,{})]})}))},89667:(t,e,o)=>{o.d(e,{Z:()=>C});var a=o(31461),n=o(7896),i=o(30969),r=o(87023),l=o(26540),d=o(87052),c=o(80242),s=o(24099),u=o(45971),p=o(17363),h=o(62746),m=o(2975);function v(t){return(0,m.ZP)("MuiButtonGroup",t)}const x=(0,h.Z)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]);var g=o(68734),b=o(94766),Z=o(37574);const f=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],j=(0,u.ZP)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[{["& .".concat(x.grouped)]:e.grouped},{["& .".concat(x.grouped)]:e["grouped".concat((0,s.Z)(o.orientation))]},{["& .".concat(x.grouped)]:e["grouped".concat((0,s.Z)(o.variant))]},{["& .".concat(x.grouped)]:e["grouped".concat((0,s.Z)(o.variant)).concat((0,s.Z)(o.orientation))]},{["& .".concat(x.grouped)]:e["grouped".concat((0,s.Z)(o.variant)).concat((0,s.Z)(o.color))]},{["& .".concat(x.firstButton)]:e.firstButton},{["& .".concat(x.lastButton)]:e.lastButton},{["& .".concat(x.middleButton)]:e.middleButton},e.root,e[o.variant],!0===o.disableElevation&&e.disableElevation,o.fullWidth&&e.fullWidth,"vertical"===o.orientation&&e.vertical]}})((t=>{let{theme:e,ownerState:o}=t;return(0,n.Z)({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},"contained"===o.variant&&{boxShadow:(e.vars||e).shadows[2]},o.disableElevation&&{boxShadow:"none"},o.fullWidth&&{width:"100%"},"vertical"===o.orientation&&{flexDirection:"column"},{["& .".concat(x.grouped)]:(0,n.Z)({minWidth:40,"&:hover":(0,n.Z)({},"contained"===o.variant&&{boxShadow:"none"})},"contained"===o.variant&&{boxShadow:"none"}),["& .".concat(x.firstButton,",& .").concat(x.middleButton)]:(0,n.Z)({},"horizontal"===o.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===o.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===o.variant&&"horizontal"===o.orientation&&{borderRight:e.vars?"1px solid rgba(".concat(e.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),["&.".concat(x.disabled)]:{borderRight:"1px solid ".concat((e.vars||e).palette.action.disabled)}},"text"===o.variant&&"vertical"===o.orientation&&{borderBottom:e.vars?"1px solid rgba(".concat(e.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),["&.".concat(x.disabled)]:{borderBottom:"1px solid ".concat((e.vars||e).palette.action.disabled)}},"text"===o.variant&&"inherit"!==o.color&&{borderColor:e.vars?"rgba(".concat(e.vars.palette[o.color].mainChannel," / 0.5)"):(0,d.Fq)(e.palette[o.color].main,.5)},"outlined"===o.variant&&"horizontal"===o.orientation&&{borderRightColor:"transparent"},"outlined"===o.variant&&"vertical"===o.orientation&&{borderBottomColor:"transparent"},"contained"===o.variant&&"horizontal"===o.orientation&&{borderRight:"1px solid ".concat((e.vars||e).palette.grey[400]),["&.".concat(x.disabled)]:{borderRight:"1px solid ".concat((e.vars||e).palette.action.disabled)}},"contained"===o.variant&&"vertical"===o.orientation&&{borderBottom:"1px solid ".concat((e.vars||e).palette.grey[400]),["&.".concat(x.disabled)]:{borderBottom:"1px solid ".concat((e.vars||e).palette.action.disabled)}},"contained"===o.variant&&"inherit"!==o.color&&{borderColor:(e.vars||e).palette[o.color].dark},{"&:hover":(0,n.Z)({},"outlined"===o.variant&&"horizontal"===o.orientation&&{borderRightColor:"currentColor"},"outlined"===o.variant&&"vertical"===o.orientation&&{borderBottomColor:"currentColor"})}),["& .".concat(x.lastButton,",& .").concat(x.middleButton)]:(0,n.Z)({},"horizontal"===o.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===o.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===o.variant&&"horizontal"===o.orientation&&{marginLeft:-1},"outlined"===o.variant&&"vertical"===o.orientation&&{marginTop:-1})})})),C=i.forwardRef((function(t,e){const o=(0,p.Z)({props:t,name:"MuiButtonGroup"}),{children:d,className:u,color:h="primary",component:m="div",disabled:x=!1,disableElevation:C=!1,disableFocusRipple:B=!1,disableRipple:y=!1,fullWidth:w=!1,orientation:R="horizontal",size:S="medium",variant:k="outlined"}=o,D=(0,a.Z)(o,f),E=(0,n.Z)({},o,{color:h,component:m,disabled:x,disableElevation:C,disableFocusRipple:B,disableRipple:y,fullWidth:w,orientation:R,size:S,variant:k}),z=(t=>{const{classes:e,color:o,disabled:a,disableElevation:n,fullWidth:i,orientation:r,variant:d}=t,c={root:["root",d,"vertical"===r&&"vertical",i&&"fullWidth",n&&"disableElevation"],grouped:["grouped","grouped".concat((0,s.Z)(r)),"grouped".concat((0,s.Z)(d)),"grouped".concat((0,s.Z)(d)).concat((0,s.Z)(r)),"grouped".concat((0,s.Z)(d)).concat((0,s.Z)(o)),a&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return(0,l.Z)(c,v,e)})(E),N=i.useMemo((()=>({className:z.grouped,color:h,disabled:x,disableElevation:C,disableFocusRipple:B,disableRipple:y,fullWidth:w,size:S,variant:k})),[h,x,C,B,y,w,S,k,z.grouped]),T=(0,c.Z)(d),M=T.length,W=t=>{const e=0===t,o=t===M-1;return e&&o?"":e?z.firstButton:o?z.lastButton:z.middleButton};return(0,Z.jsx)(j,(0,n.Z)({as:m,role:"group",className:(0,r.Z)(z.root,u),ref:e,ownerState:E},D,{children:(0,Z.jsx)(g.Z.Provider,{value:N,children:T.map(((t,e)=>(0,Z.jsx)(b.Z.Provider,{value:W(e),children:t},e)))})}))}))},80242:(t,e,o)=>{o.d(e,{Z:()=>n});var a=o(30969);function n(t){return a.Children.toArray(t).filter((t=>a.isValidElement(t)))}}}]);
//# sourceMappingURL=2682.702224fc.chunk.js.map